<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>캐시 초기화 가이드 - N3RVE 플랫폼</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
            background: #f8fafc;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 { color: #1e293b; margin-bottom: 20px; }
        .error-box {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            color: #991b1b;
        }
        .solution-box {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        .step {
            background: #f8fafc;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
        }
        kbd {
            background: #374151;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }
        .browser-specific {
            display: none;
            margin-top: 15px;
        }
        .browser-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .browser-tab {
            padding: 8px 16px;
            background: #e5e7eb;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        .browser-tab.active {
            background: #3b82f6;
            color: white;
        }
        .refresh-btn {
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 20px 0;
            transition: background 0.2s;
        }
        .refresh-btn:hover {
            background: #059669;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔧 캐시 초기화 가이드</h1>
        
        <div class="error-box">
            <strong>오류:</strong> Cannot read properties of undefined (reading 'createContext')<br>
            이 오류는 이전 버전의 JavaScript 파일이 브라우저에 캐시되어 발생합니다.
        </div>

        <div class="solution-box">
            <h3>✅ 빠른 해결 방법</h3>
            <button class="refresh-btn" onclick="hardRefresh()">
                🔄 강력 새로고침 (권장)
            </button>
        </div>

        <div class="browser-tabs">
            <button class="browser-tab active" onclick="showBrowser('chrome')">Chrome</button>
            <button class="browser-tab" onclick="showBrowser('firefox')">Firefox</button>
            <button class="browser-tab" onclick="showBrowser('safari')">Safari</button>
            <button class="browser-tab" onclick="showBrowser('edge')">Edge</button>
        </div>

        <div id="chrome" class="browser-specific" style="display: block;">
            <div class="step">
                <strong>방법 1: 강력 새로고침</strong><br>
                <kbd>Ctrl + F5</kbd> (Windows) 또는 <kbd>Cmd + Shift + R</kbd> (Mac)
            </div>
            <div class="step">
                <strong>방법 2: 개발자도구 사용</strong><br>
                1. <kbd>F12</kbd> 눌러 개발자도구 열기<br>
                2. 새로고침 버튼 우클릭<br>
                3. "강력 새로고침" 선택
            </div>
            <div class="step">
                <strong>방법 3: 캐시 완전 삭제</strong><br>
                1. <kbd>Ctrl + Shift + Delete</kbd><br>
                2. "쿠키 및 기타 사이트 데이터" 체크<br>
                3. "캐시된 이미지 및 파일" 체크<br>
                4. "데이터 삭제" 클릭
            </div>
        </div>

        <div id="firefox" class="browser-specific">
            <div class="step">
                <strong>방법 1: 강력 새로고침</strong><br>
                <kbd>Ctrl + F5</kbd> (Windows) 또는 <kbd>Cmd + Shift + R</kbd> (Mac)
            </div>
            <div class="step">
                <strong>방법 2: 캐시 삭제</strong><br>
                1. <kbd>Ctrl + Shift + Delete</kbd><br>
                2. "캐시" 체크<br>
                3. "지금 지우기" 클릭
            </div>
        </div>

        <div id="safari" class="browser-specific">
            <div class="step">
                <strong>방법 1: 강력 새로고침</strong><br>
                <kbd>Cmd + Shift + R</kbd>
            </div>
            <div class="step">
                <strong>방법 2: 캐시 비우기</strong><br>
                1. Safari → 개발 → 캐시 비우기<br>
                2. 또는 <kbd>Cmd + Option + E</kbd>
            </div>
        </div>

        <div id="edge" class="browser-specific">
            <div class="step">
                <strong>방법 1: 강력 새로고침</strong><br>
                <kbd>Ctrl + F5</kbd> (Windows)
            </div>
            <div class="step">
                <strong>방법 2: 캐시 삭제</strong><br>
                1. <kbd>Ctrl + Shift + Delete</kbd><br>
                2. "캐시된 이미지 및 파일" 체크<br>
                3. "지금 삭제" 클릭
            </div>
        </div>

        <div class="solution-box">
            <h3>🔍 문제가 계속되는 경우</h3>
            <ol>
                <li><strong>시크릿/프라이빗 브라우징</strong>으로 접속해보세요</li>
                <li><strong>다른 브라우저</strong>로 접속해보세요</li>
                <li><strong>5-10분 후</strong> 다시 시도해보세요 (CDN 업데이트 대기)</li>
                <li>모바일에서 <strong>Wi-Fi 끄고 모바일 데이터</strong>로 접속해보세요</li>
            </ol>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="/" style="background: #3b82f6; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px;">
                🏠 메인 페이지로 돌아가기
            </a>
        </div>
    </div>

    <script>
        function showBrowser(browser) {
            // Hide all browser-specific content
            document.querySelectorAll('.browser-specific').forEach(el => {
                el.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.browser-tab').forEach(el => {
                el.classList.remove('active');
            });
            
            // Show selected browser content
            document.getElementById(browser).style.display = 'block';
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function hardRefresh() {
            // Clear localStorage and sessionStorage
            localStorage.clear();
            sessionStorage.clear();
            
            // Force hard refresh
            window.location.reload(true);
        }

        // Auto-detect browser and show appropriate instructions
        window.onload = function() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes('Firefox')) {
                showBrowser('firefox');
                document.querySelector('[onclick="showBrowser(\'firefox\')"]').classList.add('active');
            } else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {
                showBrowser('safari');
                document.querySelector('[onclick="showBrowser(\'safari\')"]').classList.add('active');
            } else if (userAgent.includes('Edge')) {
                showBrowser('edge');
                document.querySelector('[onclick="showBrowser(\'edge\')"]').classList.add('active');
            }
        };
    </script>
</body>
</html>